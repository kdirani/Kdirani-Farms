
**bashar
تنظيف السكيما 
ازالة حقل الوزن من بند الفاتورة 
كتابة توثيق 

التاكد من جلب وعرض فقط من المزارع الفعالة 

في الصفحة الرئيسية 
ربما ايضا في صفحة المخزون
اصلاح تنبيه: مواد منخفضة في المخزون
حيث الادوية يتم التعامل معها بشكل مختلف

الفرق بين الوحدات وطريقة التعامل مع البيع والتخزين 




**montaser
 عند انشاء المزرعة :
عند انشاء مزرعة يجب اختيار المزارع من قائمة معرفة مسبقة وليس كتابة اسم المزارع مباشرة
عند تعريف عدد القطيع في المزرعة يجب تكون القيمة الافتراضية 0
الرصيد الافتتاحي للمواد يجب تكون القيمة الافتراضية 0 والغاء الاسهم من الحقل


اضافة زر التحديث لجميع الصفحات التي تحتوي على جلب بيانات وعرضها كجدول
حذف كلممة الاجراءات من جميع الصفحات التي تحتوي على تعديل

اضافة model للفواتير التصنيع























































ممتاز! إذن كل شيء يجب أن يكون **بالأطباق**. لكن هناك مشكلة في حساب `watchSold` - دعني أفحصها:





ممتاز! الآن أفهم. لكن هناك **مشكلة مهمة** يجب حلها:

## 🚨 مشكلة في حساب البيض المباع

### المشكلة الحالية:

```typescript
const totalEggsSold = eggSaleItems.reduce((sum, item) => sum + (item.quantity || 0), 0);
```

هذا الحساب يجمع `quantity` مباشرة **بدون تحويل إلى أطباق**!

### مثال يوضح المشكلة:

إذا باع المزارع:
- **5 كراتين** بيض (كل كرتونة = 10 أطباق = 50 طبق)
- **3 أطباق** بيض مباشرة

**الحساب الحالي الخاطئ:**
```
totalEggsSold = 5 + 3 = 8 أطباق ❌
```

**الحساب الصحيح:**
```
totalEggsSold = (5 × 10) + 3 = 53 طبق ✅
```

---

## 🎯 الحل المقترح:

لديك خياران:

### الخيار 1: إجبار المستخدم على اختيار وحدة "طبق" فقط
- بسيط وواضح
- لكن أقل مرونة

### الخيار 2: السماح بوحدات متعددة مع التحويل التلقائي
- أكثر مرونة
- يحتاج كود تحويل:
  - **كرتونة** → `quantity × 10`
  - **طبق** → `quantity × 1`
  - **قطعة/بيضة** → `quantity / 30`

---

## ❓ السؤال:

**هل تريد:**

1. ✅ **السماح بوحدات متعددة** (كرتونة، طبق) وتحويلها تلقائياً إلى أطباق؟
2. 🔒 **إجبار المستخدم** على اختيار وحدة "طبق" فقط في بنود البيع؟

أخبرني لأقوم بالإصلاح المناسب! 🛠️